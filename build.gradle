plugins {
	id("org.jetbrains.kotlin.jvm") version "1.6.20"
	//id "org.tabooproject.shrinkingkt" version "1.0.2"
	//id("me.him188.maven-central-publish") version "1.0.0-dev-3"

}

allprojects {
	apply plugin: "java"
	apply plugin: "org.jetbrains.kotlin.jvm"

	repositories{
		maven{ url "https://maven.aliyun.com/nexus/content/groups/public/"}
		maven{ url "https://jitpack.io" }
		maven { url "https://plugins.gradle.org/m2/" }
		mavenCentral()
	}

	/* 使用Java8做标准语法并编译 */
	sourceCompatibility = JavaVersion.VERSION_1_8
	targetCompatibility = JavaVersion.VERSION_1_8

	compileKotlin {
		kotlinOptions.jvmTarget = "1.8"
	}
	compileTestKotlin {
		kotlinOptions.jvmTarget = "1.8"
	}

	tasks.withType(JavaCompile) {
		options.encoding = "UTF-8"
		options.compilerArgs << "-Xlint:unchecked" << "-Werror"
		options.compilerArgs << "-Xdiags:verbose" << "-Werror"
		options.compilerArgs << "-Xlint:deprecation" << "-Werror"
	}
}
	//implementation group: 'io.netty', name: 'netty-all', version: '5.0.0.Alpha2'
	//implementation group: 'io.netty', name: 'netty-all', version: '4.1.51.Final'