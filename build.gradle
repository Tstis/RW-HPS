plugins {
	id 'org.jetbrains.kotlin.jvm' version '1.6.10'
}

allprojects {
	apply plugin: "java"
	apply plugin: "org.jetbrains.kotlin.jvm"

	/* 使用Java11做标准语法并编译 */
	sourceCompatibility = JavaVersion.VERSION_11
	targetCompatibility = JavaVersion.VERSION_11

	repositories{
		maven{ url "https://maven.aliyun.com/nexus/content/groups/public/"}
		maven{ url 'https://jitpack.io' }
		mavenCentral()
	}

	dependencies {
		implementation group: 'org.jetbrains.kotlin', name: 'kotlin-stdlib', version: '1.6.10'
		//implementation group: 'org.jetbrains.kotlinx', name: 'kotlinx-coroutines-core', version: '1.5.1'
	}

	ext{
		//the build number that this plugin is made for
	}

	jar{
		from{
			configurations.runtimeClasspath.collect{it.isDirectory() ? it : zipTree(it)}
		}
	}

	tasks.withType(JavaCompile) {
		options.encoding = "UTF-8"
		options.compilerArgs << "-Xlint:unchecked" << "-Werror"
		options.compilerArgs << "-Xdiags:verbose" << "-Werror"
		options.compilerArgs << "-Xlint:deprecation" << "-Werror"
	}
}
	//implementation group: 'io.netty', name: 'netty-all', version: '5.0.0.Alpha2'
	//implementation group: 'io.netty', name: 'netty-all', version: '4.1.51.Final'